"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1027],{12166:function(e,t,a){var r=a(81438),l=a(4766),n=a(33849),s=a(77723),i=a(43424);t.Z=function(e){let{icon:t,tokenAddress:a,name:o,symbol:d,rewardsMode:u="select"}=e;return(0,r.jsxs)("div",{className:"flex items-center gap-1 ".concat("select"===u?"":"py-2"),children:[""!==t?(0,r.jsx)(s.Z,{src:t,fill:!1,className:"h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-100"}):(0,r.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-300"}),(0,r.jsxs)(n.Z,{isExternalLink:!0,href:"".concat(i.O.NEXT_PUBLIC_BLOCK_EXPLORER_URL,"/address/").concat(a),className:"hidden items-center gap-1 font-abcRepro text-TextXS text-blue-700 underline-offset-1 hover:underline md:flex",children:[(0,r.jsx)(l._T,{intent:"TextXS",weight:"medium",className:"hidden text-blue-700 underline-offset-1 lg:block",dataCypress:"dashboardTokenName",children:null!=o?o:a}),d&&(0,r.jsx)(l._T,{intent:"TextXS",className:"text-blue-400",children:d})]})]})}},54131:function(e,t,a){var r=a(81438),l=a(4766);t.Z=function(e){let{weiAmount:t}=e;return(0,r.jsx)("div",{className:"flex items-center justify-end gap-1 py-3",children:(0,r.jsx)(l._T,{intent:"TextXS",className:"text-[10px] text-blue-700 sm:text-[12px]",children:(0,r.jsx)(l.Lm,{value:t,format:"balance"})})})}},70163:function(e,t,a){a.d(t,{Z:function(){return O}});var r=a(81438),l=a(66427),n=a(86360),s=a(10713),i=a.n(s),o=a(4766),d=a(42140),u=a(58529),c=a(33849),m=a(84465),h=a(15800),x=a(96587),g=function(e){let{operator:t,setSelected:a,operators:n}=e,[s,i]=(0,l.useState)(!1);return(0,r.jsxs)(x.fC,{open:s,onOpenChange:e=>{i(e)},children:[(0,r.jsx)(x.xz,{className:"transiton flex outline-none",children:(0,r.jsxs)(o.xk,{intent:"secondary",className:"flex w-full justify-between gap-2 rounded-lg p-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("img",{src:t.logo||"/tokenIcon/beaconChainETH.svg",onError:e=>{e.currentTarget.src="/tokenIcon/beaconChainETH.svg"},height:24,width:24,alt:"operator logo",className:"h-6 w-6 rounded object-contain"}),t.name]}),(0,r.jsx)(h.Z,{className:"h-5 w-5 transition-transform duration-200 ".concat(s?"rotate-180":"")})]})}),(0,r.jsx)(x.VY,{align:"start",className:"z-[500] mt-2 h-72 max-w-[385px] overflow-y-auto rounded-lg border bg-white drop-shadow-sm",children:(0,r.jsx)("div",{className:"w-full",children:n.map((e,l)=>(0,r.jsxs)("div",{className:"flex cursor-pointer gap-2 p-2 hover:bg-blue-100",onClick:()=>{a(e),i(!1)},children:[(0,r.jsx)("img",{src:t.logo||"/tokenIcon/beaconChainETH.svg",onError:e=>{e.currentTarget.src="/tokenIcon/beaconChainETH.svg"},height:24,width:24,alt:"operator logo",className:"h-6 w-6 rounded object-contain"}),(0,r.jsx)(o._T,{intent:"TextS",font:"ibmPlexMono",children:e.name}),l<n.length-1&&(0,r.jsx)("hr",{className:"border-blue-100"})]},e.address))})})]})},p=a(72918),v=a(78130),f=a(27196),b=a(77809),w=a(38648),j=a(70806),T=a(13715),N=function(e){let{title:t,children:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)(o._T,{intent:"TextS",className:"text-blue-400",weight:"medium",children:t}),(0,r.jsx)("div",{className:"cursor-pointer hover:text-blue-800 hover:underline",children:a||(0,r.jsx)(o.yg,{intent:"DisplayXS"})})]})},y=(0,l.memo)(function(e){var t,a,n,s;let{selectedOperator:i,setSelectedOperator:d,operatorsWithRewards:u=[],handleDelegate:c,title:h,isOpen:x,onClose:y}=e,[S,k]=(0,l.useState)([]),L=(0,p.ZP)(e=>e.transaction),{data:A=[]}=b.h.token.getTokens.useQuery({include_native:!0}),{isConnected:C}=(0,f.Z)(),{isDelegated:V}=(0,v.O4)();return(0,l.useEffect)(()=>{if(i){var e;k(null!==(e=null==i?void 0:i.estimatedRewards)&&void 0!==e?e:[])}},[i]),(0,r.jsx)(m.fC,{open:x,children:(0,r.jsxs)(m.h_,{children:[(0,r.jsx)(m.aV,{className:"fixed top-0 z-10 flex h-screen w-screen items-center justify-center bg-black-200",onClick:y}),(0,r.jsx)(m.VY,{className:"fixed left-1/2 top-1/2 z-20 flex h-full w-full -translate-x-1/2 -translate-y-1/2 transform flex-col items-center justify-center gap-4 rounded-lg bg-white outline-none sm:top-1/3 sm:mt-20 sm:h-[550px] sm:w-[420px]",children:C?(0,r.jsxs)("div",{className:"flex h-full w-full flex-col gap-4 rounded-lg border border-blue-100 bg-white-950 px-4 py-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)(o._T,{intent:"TextXL",weight:"medium",children:h})}),i?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)(o._T,{intent:"TextS",className:"text-blue-400",children:"Operator"}),(0,r.jsx)(g,{operator:i,operators:u,setSelected:d})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-blue-100 px-4 py-6",children:[(0,r.jsx)(j.Z,{}),(0,r.jsx)("div",{children:(0,r.jsx)(o._T,{intent:"DisplayXS",weight:"medium",className:"mr-1.5",dataCypress:"restakeBalance",children:(0,r.jsx)(o._T,{children:(0,w.so)(null!==(a=null==i?void 0:i.apr)&&void 0!==a?a:0)?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(o.Lm,{value:100*Number(null!==(n=null==i?void 0:i.apr)&&void 0!==n?n:0),format:"balance"}),"%"]}):"N/A"})})}),(0,r.jsx)("hr",{className:"border-text-blue-300"}),(0,r.jsx)(N,{title:"RESTAKE AMOUNT",children:(0,r.jsxs)(o._T,{intent:"TextXS",children:[(0,r.jsx)(o.Lm,{value:null==L?void 0:L.amount,format:"balance",className:"mr-1"}),null!==(s=null===(t=A.find(e=>e.strategyAddress===(null==L?void 0:L.strategyAddress)))||void 0===t?void 0:t.symbol)&&void 0!==s?s:"UNKN"]})})]}),S.length>0&&(0,r.jsx)(T.Z,{rewardData:S,hiddenCols:["weiAmount"]}),(0,r.jsxs)(o.xk,{className:"mt-auto w-full text-white",size:o.dr.SM,disabled:V,type:"button",onClick:c,children:["Delegate to ",i.name]})]}):(0,r.jsx)(o.yg,{intent:"TextS",className:"h-72 w-full"})]}):(0,r.jsxs)("div",{className:"flex h-full w-full flex-col gap-4 overflow-auto rounded-lg border border-blue-100 bg-white-950 px-4 py-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)(o._T,{intent:"TextXL",weight:"medium",children:h})}),(0,r.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-blue-100 px-4 py-6",children:[(0,r.jsx)(j.Z,{}),(0,r.jsx)("div",{children:"- - -"})]})]})})]})})}),S=a(65943),k=a(37860),L=a(63506),A=a(30696),C=a(28314);let V=[{field:"address",headerName:"AVS",resizable:!1,flex:1,minWidth:100,wrapHeaderText:!0,suppressMovable:!0,cellRenderer:e=>{var t;let{data:a}=e;return(0,r.jsxs)(c.Z,{href:"/avs/".concat(a.address),className:"mx-auto flex h-full items-center gap-2",children:[(0,r.jsx)("img",{src:null!==(t=a.metadata.logo)&&void 0!==t?t:"/tokenIcon/beaconChainETH.svg",onError:e=>{e.currentTarget.src="/tokenIcon/beaconChainETH.svg"},height:"16",width:"16",className:"h-4 w-4 rounded-full border-blue-100 bg-blue-200 object-contain",alt:a.metadata.name}),(0,r.jsx)(o._T,{intent:"TextXS",weight:"medium",className:"text-blue-700 underline-offset-1 after:content-['_↗'] lg:block",dataCypress:"dashboardTokenName",children:a.metadata.name||a.address})]})}}];var R=(0,l.memo)(function(e){let{headerTitle:t,selectedOperator:a,setSelectedOperator:n,operatorsWithRewards:s=[],handleDelegate:i,isOpen:d,onClose:c}=e,{registeredAVSs:h,isAVSLoading:x}=(0,C.Z)(null==a?void 0:a.address),{isDelegated:p}=(0,v.O4)();return(0,r.jsx)(m.fC,{open:d,children:(0,r.jsxs)(m.h_,{children:[(0,r.jsx)(m.aV,{className:"fixed top-0 z-10 flex h-screen w-screen items-center justify-center bg-black-200",onClick:c}),(0,r.jsxs)(m.VY,{className:"fixed left-1/2 top-1/2 z-20 flex h-full w-full -translate-x-1/2 -translate-y-1/2 transform flex-col items-center justify-center gap-4 rounded-lg bg-white p-4 outline-none sm:top-1/3 sm:mt-20 sm:h-[440px] sm:w-[400px]",children:[(0,r.jsx)(m.Dx,{className:"flex w-full items-center justify-between",children:(0,r.jsx)(o._T,{intent:"TextL",children:t})}),a&&!x?(0,r.jsxs)(l.Fragment,{children:[(0,r.jsxs)("div",{className:"flex w-full flex-col gap-1",children:[(0,r.jsx)(o._T,{intent:"TextS",className:"text-blue-400",children:"Operator"}),(0,r.jsx)(g,{operator:a,operators:s,setSelected:n})]}),(0,r.jsx)(u.wQ,{data:null!=h?h:[],isLoading:x,className:"pb-6",domLayout:"normal",rowClass:"hover:bg-blue-100 cursor-pointer",columnDefs:V,localStorageSortKey:"avs-for-operator-table"}),(0,r.jsxs)(o.xk,{className:"mt-auto w-full text-white",size:o.dr.SM,disabled:p,type:"button",onClick:i,children:["Delegate to ",a.name]})]}):(0,r.jsx)(o.yg,{intent:"TextS",className:"h-72 w-full"})]})]})})});let E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[{field:"name",headerName:i()(t,"name","Operator"),resizable:!1,suppressMovable:!0,minWidth:200,wrapHeaderText:!0,hide:e.includes("name"),flex:3,cellRenderer:e=>{var t,a;return(0,r.jsxs)(c.Z,{href:"/operator/".concat(null===(t=e.data)||void 0===t?void 0:t.address),className:"flex h-full w-fit items-center gap-2 hover:underline",openInNewTab:e.data.openInNewTab,"data-cypress":"operatorRow",children:[(0,r.jsx)("img",{src:(null===(a=e.data)||void 0===a?void 0:a.logo)||"/tokenIcon/beaconChainETH.svg",onError:e=>{e.currentTarget.src="/tokenIcon/beaconChainETH.svg"},height:48,width:48,alt:"operator logo",className:"h-6 w-6 rounded object-contain"}),(0,r.jsxs)(o._T,{intent:"TextXS",weight:"medium",className:"block text-blue-700",children:[e.value||(0,r.jsx)(o.Lp,{address:e.data.address}),e.data.openInNewTab?" ↗":""]}),e.node.rowPinned&&(0,r.jsx)(o.Vp,{color:"greenV2",children:(0,r.jsx)(o._T,{intent:"TextXS",font:"ibmPlexMono",className:"truncate text-[8px] sm:text-TextXS",children:"Delegated"})})]})},headerComponent:u.sj},{field:"address",hide:!0,valueGetter:e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.address}},{field:"website",hide:!0,valueGetter:e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.website}},{field:"totalTVL",headerName:i()(t,"totalTVL","Total Restaked (ETH)"),headerClass:"ag-eigen-header-right",hide:e.includes("totalTVL"),width:200,wrapHeaderText:!0,autoHeaderHeight:!0,resizable:!1,suppressMovable:!0,type:"rightAligned",cellRenderer:e=>(0,r.jsx)(u.bL,{...e,format:"tvl"}),headerComponent:u.sj},{field:"eigenTVL",headerName:i()(t,"eigenTVL","Total EIGEN Restaked"),headerClass:"ag-eigen-header-right",hide:e.includes("eigenTVL"),width:200,wrapHeaderText:!0,autoHeaderHeight:!0,resizable:!1,suppressMovable:!0,type:"rightAligned",cellRenderer:e=>(0,r.jsx)(u.bL,{...e,format:"tvl"}),headerComponent:u.sj},{field:"numStakers",headerName:i()(t,"numStakers","Total Stakers"),resizable:!1,hide:e.includes("numStakers"),width:150,wrapHeaderText:!0,suppressMovable:!0,type:"rightAligned",headerClass:"ag-eigen-header-right",cellRenderer:e=>(0,r.jsx)(u.bL,{...e,format:"count"}),headerComponent:u.sj},{field:"numAvs",headerName:i()(t,"numAvs","AVSs SECURED"),headerClass:"ag-eigen-header-right ag-eigen-header-normal-case",hide:e.includes("numAvs"),width:150,wrapHeaderText:!0,autoHeaderHeight:!0,resizable:!1,suppressMovable:!0,type:"rightAligned",cellRenderer:e=>(0,r.jsx)(o.xk,{ref:t=>{t&&(t.onclick=t=>{t.stopPropagation(),t.preventDefault(),e.data.onAVSForOperatorModalClick(e.data)})},intent:"pill",className:"mr-6 h-2 w-12",disabled:0===e.value,children:e.value}),headerComponent:u.sj},{field:"estimatedRewards",headerName:i()(t,"estimatedRewards","Historical APR"),hide:e.includes("estimatedRewards"),cellClass:"reward-token-cell",headerClass:"ag-eigen-header-right",flex:1,minWidth:200,comparator:(e,t,a,r)=>{var l,n,s,i,o,d,u,c,m,h;let x=null!==(s=null==a?void 0:null===(l=a.data)||void 0===l?void 0:l.apr)&&void 0!==s?s:0,g=null!==(i=null==r?void 0:null===(n=r.data)||void 0===n?void 0:n.apr)&&void 0!==i?i:0;return Number(x)===Number(g)?(null!==(m=null==a?void 0:null===(d=a.data)||void 0===d?void 0:null===(o=d.estimatedRewards)||void 0===o?void 0:o.length)&&void 0!==m?m:0)-(null!==(h=null==r?void 0:null===(c=r.data)||void 0===c?void 0:null===(u=c.estimatedRewards)||void 0===u?void 0:u.length)&&void 0!==h?h:0):x-g},wrapHeaderText:!0,autoHeaderHeight:!0,resizable:!1,suppressMovable:!0,type:"rightAligned",headerComponent:e=>(0,r.jsxs)(u.Oq,{...e,className:"ml-auto flex items-center justify-end gap-2 text-right",children:[(0,r.jsx)(o._T,{intent:"TextXS",className:"text-left font-ibmPlexMono font-normal uppercase text-blue-400",children:e.displayName}),(0,r.jsxs)(o.ag,{children:[(0,r.jsx)(o.ag.Trigger,{children:(0,r.jsx)(n.Z,{className:"h-4 w-4 text-blue-400"})}),(0,r.jsx)(o.ag.Content,{children:(0,r.jsx)("div",{className:"w-64 text-center text-blue-800",children:(0,r.jsx)(o._T,{intent:"TextS",children:"The estimated annualized historical 7-day reward rate earned by restakers delegating the selected asset to this Operator"})})})]})]}),cellRenderer:e=>{e.data.isEstimatedRewardLoading&&o.yg,e.value&&e.value.length>0?(0,r.jsx)(o.xk,{intent:"pill",size:o.dr.XS,className:"mr-6 flex h-8 items-center justify-center rounded-3xl p-1.5",ref:t=>{t&&(t.onclick=t=>{t.stopPropagation(),t.preventDefault(),e.data.onEstimatedRewardsClick(e.data)})},children:(0,r.jsx)(S.Z,{tokenIcons:e.data.estimatedRewards.map(e=>e.icon),apr:e.data.apr})}):(0,r.jsx)(o._T,{intent:"TextXS",className:"mr-6 text-blue-400",children:"-"})}}]};function O(e){let{TableHeader:t=null,columnHeaderMap:a,operators:n,isOperatorsLoading:s,enableFilter:i=!0,delegatedTvlTotal:o={totalTVL:0,eigenTVL:0},tableHeight:c="h-[890px]",rowSelection:m="single",hiddenCols:h=[],onRowSelected:x,handleDelegate:g,openInNewTab:p=!1}=e,{data:f}=(0,v.O4)(),[b,j]=(0,l.useState)(()=>[]),[T,N]=(0,l.useState)(!1),[S,C]=(0,l.useState)(!1),[V,O]=(0,l.useState)(),{isEarnTokensModalOpenClose:M,openCloseEarnTokensModal:_}=(0,k.Y)(),H=(0,l.useCallback)(()=>C(e=>!e),[C]),{estimatedRewards:Z,isEstimatedRewardLoading:I}=(0,L.Z)(),D=(0,A.Z)(),P=(0,l.useCallback)(e=>{let{totalTVL:t,eigenTVL:a}=e;return Math.max(o.eigenTVL?a/o.eigenTVL:0,o.totalTVL?t/o.totalTVL:0)},[o]),X=(0,l.useMemo)(()=>{let e=n.find(e=>(0,d.EU)(e.address,f));if(!e)return[];let t=P(e);return[{...e,restakeConcentration:t}]},[f,n,P]);return(0,l.useEffect)(()=>{n&&j(n.map(e=>{let t;let a=[],r=0;if(!I){var l,n;t=Z.find(t=>t.operatorAddress===e.address),a=(0,w.A$)(null!==(l=null==t?void 0:t.rewards)&&void 0!==l?l:[]),r=null!==(n=null==t?void 0:t.apr)&&void 0!==n?n:0}return{...e,restakeConcentration:P(e),openInNewTab:p,onAVSForOperatorModalClick:e=>{H(),O(e)},apr:r,estimatedRewards:a,isEstimatedRewardLoading:I,onEstimatedRewardsClick:e=>{_(),O(e)}}}))},[n,P,p,H,_,Z,I,null==V?void 0:V.address]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(R,{isOpen:S,onClose:H,selectedOperator:V,operatorsWithRewards:b,setSelectedOperator:O,handleDelegate:g,headerTitle:"AVSs Secured"}),(0,r.jsx)(y,{isOpen:M,onClose:_,title:"Estimated weekly APR",selectedOperator:V,operatorsWithRewards:b,setSelectedOperator:O,handleDelegate:g}),(0,r.jsx)(u.wQ,{title:t,data:b,isLoading:s,className:"h-full",containerClassName:"h-full",domLayout:"normal",tableWrapperClassName:"grow ".concat(c),rowClass:"hover:bg-blue-100 cursor-pointer ".concat(T&&"ag-is-any-row-selected"),columnDefs:E(h,a),pinnedTopRowData:X,localStorageSortKey:"operator-table",rowSelection:m,onRowSelected:e=>{if(x){N(!0),x(e);return}let t=null==e?void 0:e.data;(null==t?void 0:t.address)&&D.push("/operator/".concat(null==t?void 0:t.address))},animateRows:!1,pagination:!0,search:!0,paginationPageSize:20,suppressPaginationPanel:!0,filter:i?[{value:"on",label:"Hide inactive operators",default:!0}]:void 0,filterValueComparator:(e,t)=>"on"!==t||(console.log(),e.numAvs>=1),customOnGridReady:(e,t)=>{t||h.includes("estimatedRewards")||e.api.applyColumnState({state:[{colId:"estimatedRewards",sort:"desc"}]})}})]})}},70806:function(e,t,a){var r=a(81438),l=a(86360),n=a(4766);t.Z=function(){return(0,r.jsxs)(n._T,{intent:"TextXS",font:"ibmPlexMono",className:"flex gap-1 text-blue-400",children:["Historical APR",(0,r.jsxs)(n.ag,{children:[(0,r.jsx)(n.ag.Trigger,{children:(0,r.jsx)(l.Z,{className:"h-4 w-4 text-blue-400"})}),(0,r.jsx)(n.ag.Content,{children:(0,r.jsx)("div",{className:"w-64 text-center text-blue-800",children:(0,r.jsx)(n._T,{intent:"TextS",children:"Your estimated annualized historical 7-day reward rate for delegating the selected asset to this Operator."})})})]})]})}},13715:function(e,t,a){var r=a(81438),l=a(66427),n=a(4766),s=a(12166),i=a(54131),o=a(58529);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{field:"name",headerName:"REWARD TOKEN",resizable:!1,hide:e.includes("name"),suppressMovable:!0,flex:1,minWidth:80,wrapHeaderText:!0,wrapText:!0,autoHeight:!0,headerClass:"ag-eigen-header-left",cellRenderer:e=>(0,r.jsx)(s.Z,{icon:e.data.icon,name:e.data.name,tokenAddress:e.data.address,symbol:e.data.symbol,rewardsMode:"claim"}),headerComponent:o.sj},{field:"weiAmount",hide:e.includes("weiAmount"),headerName:"AMOUNT",resizable:!1,suppressMovable:!0,flex:1,minWidth:80,wrapHeaderText:!0,wrapText:!0,autoHeight:!0,type:"rightAligned",headerClass:"ag-eigen-header-right",valueFormatter:e=>{let{value:t}=e;return Number(t).toString()},comparator:(e,t)=>Number(e)-Number(t),cellRenderer:e=>(0,r.jsx)("div",{className:"mr-6",children:(0,r.jsx)(i.Z,{weiAmount:e.data.weiAmount})}),headerComponent:o.sj}]};t.Z=(0,l.memo)(function(e){let{rewardData:t,hiddenCols:a,isLoading:l=!1}=e;return(0,r.jsx)(o.wQ,{tableWrapperClassName:"h-full min-h-full",containerClassName:"grow",data:t,columnDefs:d(a),animateRows:!1,isLoading:l,className:"h-full",domLayout:"normal",suppressRowHoverHighlight:!0,noRowsOverlayComponent:()=>(0,r.jsx)(n._T,{intent:"TextM",className:"text-blue-400",children:"No rewards available"}),localStorageSortKey:"rewards-modal-table"})})},65943:function(e,t,a){var r=a(81438),l=a(66427),n=a(4766),s=a(42140),i=a(77723),o=a(38648);let d=(0,l.memo)(e=>{let{tokenIcons:t,apr:a,className:d}=e,u="";if(0===t.length)return null;let c=[...t];return c.length>3&&(u="+".concat(c.length-3),c=c.slice(0,3)),(0,r.jsxs)("div",{className:"flex h-6 items-center gap-2",children:[(0,r.jsxs)("div",{className:(0,s.cn)("relative h-6",d),style:{width:24+(Math.min(t.length,4)-1)*8},children:[c.map((e,t)=>(0,r.jsx)("div",{children:""!==e?(0,r.jsx)(i.Z,{src:e,fill:!1,className:"absolute h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-100",style:{left:"".concat(8*t,"px")}}):(0,r.jsx)("div",{className:"absolute h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-300",style:{left:"".concat(8*t,"px")}})},t)),u&&(0,r.jsx)("div",{className:"absolute",style:{left:"".concat(8*c.length,"px")},children:(0,r.jsx)(n._T,{intent:"TextXS",className:"absolute flex h-6 w-6 items-center justify-center rounded-full border-2 border-blue-100 bg-white text-blue-400",children:u})},"count")]}),a?(0,r.jsx)(n._T,{intent:"TextXS",className:"ml-1 text-blue-800",children:(0,o.so)(a)?(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(n.Lm,{value:100*Number(a),format:"percentage"})}):"N/A"}):null]})});d.displayName="TokenIconDisplay",t.Z=d},37860:function(e,t,a){a.d(t,{Y:function(){return l}});var r=a(66427);function l(){let[e,t]=(0,r.useState)(!1),[a,l]=(0,r.useState)(null);return{isEarnTokensModalOpenClose:e,openCloseEarnTokensModal:(0,r.useCallback)(()=>t(e=>!e),[t]),earnTokensModalData:a,setEarnTokensModalData:l}}},28314:function(e,t,a){var r=a(66427),l=a(77809),n=a(31680);t.Z=e=>{let{data:t,isLoading:a}=l.h.operator.getOperatorAVSs.useQuery(null!=e?e:n.r_,{enabled:!!e});return{registeredAVSs:(0,r.useMemo)(()=>(null==t?void 0:t.avsInfo)&&t.avsInfo.length>0?t.avsInfo:[],[t]),isAVSLoading:a}}},63506:function(e,t,a){var r=a(66427),l=a(72918),n=a(77809),s=a(38648);t.Z=function(){let e=(0,l.ZP)(e=>e.transaction),t=(0,l.ZP)(e=>e.delegationTransaction),a=(0,l.ZP)(e=>e.updateDelegationTransaction),{data:i,isLoading:o}=n.h.rewards.getOperatorRewards.useQuery({strategyAddresses:[e.strategyAddress]},{enabled:!!e.strategyAddress,staleTime:1/0}),d=(0,r.useMemo)(()=>{var e;return null!==(e=null==i?void 0:i.rewards)&&void 0!==e?e:[]},[i]);return(0,r.useEffect)(()=>{if(t.operatorAddress){var e;let r=d.find(e=>e.operatorAddress===t.operatorAddress);a({estimatedRewards:(0,s.A$)(null!==(e=null==r?void 0:r.rewards)&&void 0!==e?e:[]),apr:null==r?void 0:r.apr})}},[t.operatorAddress,d,a]),{estimatedRewards:d,estimatedDelegationRewardAPR:t.apr,estimatedDelegationReward:t.estimatedRewards,isEstimatedRewardLoading:o}}},21557:function(e,t,a){a.d(t,{GO:function(){return c},xw:function(){return u}});var r=a(66427),l=a(51016),n=a.n(l),s=a(64087),i=a(77809),o=a(3993),d=a(78130);let u=()=>{let{data:e,isLoading:t}=i.h.operator.getAllOperatorShares.useQuery(void 0,{staleTime:3e5,gcTime:3e5,select:e=>0===e.strategyAndShare.length?{}:e.strategyAndShare.reduce((e,t)=>(Object.entries(t).forEach(t=>{let[a,r]=t;e[a]||(e[a]=0n),e[a]+=BigInt(null!=r?r:0n)}),e),{})}),{data:{strategyTokenMap:a},isLiquidTokensLoading:o,isNativeTokenLoading:d}=(0,s.r)();return{data:(0,r.useMemo)(()=>{var t,r;if(!e||!a)return{eigenTVL:0,totalTVL:0};let s=Object.entries(e).map(e=>{let[t,r]=e,l=a[t];if(!l)return;let n=Number(l.convertSharesToUnderlying(BigInt(r),{format:"decimal"}));return{...l,ethValue:l.ethValue*n,tvl:n}}),i=n().chain(s).groupBy("group").value(),o=(0,l.sumBy)(i.native,"ethValue")+(0,l.sumBy)(i.lst,"ethValue")+(0,l.sumBy)(i.WETH,"ethValue");return{eigenTVL:null!==(r=null===(t=(0,l.find)(s,{slug:"EIGEN"}))||void 0===t?void 0:t.tvl)&&void 0!==r?r:0,totalTVL:o}},[a,e]),isLoading:o||d||t}},c=e=>{let{data:t}=(0,d.O4)(),{data:a,isLoading:u,isSuccess:c,...m}=i.h.operator.getOperatorSummary.useQuery({address:null==e?void 0:e.toLowerCase(),delegateAddress:null==t?void 0:t.toLowerCase()}),{data:{strategyTokenMap:h},isLoading:x}=(0,s.r)(),g=(0,r.useMemo)(()=>{var e,t;let r=null==a?void 0:a.shares;if(!r||!h)return{eigenTVL:0,totalTVL:0,tvl:[]};let s=Object.entries(r[0]).map(e=>{let[t,a]=e,r=h[t];if(!r)return;let l=Number(r.convertSharesToUnderlying(BigInt(a),{format:"decimal"}));return{...r,ethValue:r.ethValue*l,tvl:l}}).filter(o.hD),i=n().chain(s).groupBy("group").value(),d=(0,l.sumBy)(i.native,"ethValue")+(0,l.sumBy)(i.lst,"ethValue")+(0,l.sumBy)(i.WETH,"ethValue");return{eigenTVL:null!==(t=null===(e=(0,l.find)(s,{slug:"EIGEN"}))||void 0===e?void 0:e.tvl)&&void 0!==t?t:0,totalTVL:d,tvl:s}},[null==a?void 0:a.shares,h]);return{...m,operatorSummary:null==a?null:{...a,numStakers:(null==a?void 0:a.numStakers)||1,tvl:null==g?void 0:g.tvl,totalTVL:null==g?void 0:g.totalTVL,eigenTVL:null==g?void 0:g.eigenTVL},isOperatorLoading:x||u,isOperatorSuccess:c}};t.ZP=()=>{let{data:e,isLoading:t,isSuccess:a}=i.h.operator.getAllOperatorsWithMetadata.useQuery(void 0,{}),{data:o,isLoading:d,isSuccess:u}=i.h.operator.getAllOperatorTVLNumStakers.useQuery(void 0,{}),{data:{strategyTokenMap:c},isLiquidTokensLoading:m,isNativeTokenLoading:h}=(0,s.r)(),x=(0,r.useMemo)(()=>{var e,t;return null!==(t=null==o?void 0:null===(e=o.operatorTvlStakerData)||void 0===e?void 0:e.reduce((e,t)=>(e[t.address]=t,e),{}))&&void 0!==t?t:{}},[null==o?void 0:o.operatorTvlStakerData]),g=null==e?void 0:e.operatorMetadata,p=(0,r.useMemo)(()=>g&&x&&!m&&c?g.filter(e=>!!(null==e?void 0:e.name)).map(e=>{var t,a;let r=x[e.address],s=Object.entries(r.shares).map(e=>{let[t,a]=e,r=c[t];if(!r)return;let l=Number(r.convertSharesToUnderlying(BigInt(a),{format:"decimal"}));return{...r,ethValue:r.ethValue*l,tvl:l}}),i=n().chain(s).groupBy("group").value(),o=(0,l.sumBy)(i.native,"ethValue")+(0,l.sumBy)(i.lst,"ethValue")+(0,l.sumBy)(i.WETH,"ethValue");return{...e,numStakers:(null==r?void 0:r.numStakers)||1,numAvs:(null==r?void 0:r.numAvs)||0,tvlByGroup:i,totalTVL:o,eigenTVL:null!==(a=null===(t=(0,l.find)(s,{slug:"EIGEN"}))||void 0===t?void 0:t.tvl)&&void 0!==a?a:0}}):[],[g,x,m,c]),v=(0,r.useMemo)(()=>(0,l.reduce)(p,(e,t)=>(e.totalTVL+=t.totalTVL,e.eigenTVL+=t.eigenTVL,e),{totalTVL:0,eigenTVL:0}),[p]);return{operatorMetadata:g,isMetadataLoading:t,isMetadataSuccess:a,isTvlStakerDataLoading:d,isTvlStakerDataSuccess:u,formattedOperators:p,delegatedTvlTotal:v,isLoading:m||h||d||t}}},30696:function(e,t,a){var r=a(83062),l=a(61842);t.Z=()=>{let e=(0,r.useRouter)(),{impersonationAddress:t}=(0,l.Z)(),a=(e,t,a)=>{let r=new URL(e,window.location.origin),l=new URLSearchParams(r.search);return a&&l.set(t,a),r.search=l.toString(),r.toString()};return{...e,push:r=>{if(t){let l=a(r,"impersonate",t);e.push(l)}else e.push(r)},replace:r=>{if(t){let l=a(r,"impersonate",t);e.replace(l)}else e.replace(r)}}}},38648:function(e,t,a){a.d(t,{A$:function(){return i},TL:function(){return d},_f:function(){return s},so:function(){return o}});var r=a(11442),l=a(42140),n=a(3993);let s=e=>e?i(e.flatMap(e=>e.tokens)):[],i=e=>e?e.map(e=>{var t,a;let r=(0,n.M1)(e.tokenAddress);return r?{name:r.name,address:e.tokenAddress,symbol:r.symbol,icon:r.icon,weiAmount:BigInt(null!==(a=e.weiAmount)&&void 0!==a?a:0)}:{name:(0,l.Xn)(e.tokenAddress),address:e.tokenAddress,symbol:"",icon:"",weiAmount:BigInt(null!==(t=e.weiAmount)&&void 0!==t?t:0)}}).filter(e=>e.weiAmount>0n):[],o=e=>{let t=e<.1;return t||r.v.addError({message:"APR is greater than 0.1: ".concat(e)}),t},d=e=>e.map(e=>(0,n.M1)(e)||{name:(0,l.Xn)(e),slug:"",address:e,types:["reward"],strategyAddress:"0x",symbol:"",icon:"",decimals:18,rebasing:!1,apiID:"",group:"token",usedForPoints:!1,about:""})}}]);
//# sourceMappingURL=1027-f8052a50b495e405.js.map