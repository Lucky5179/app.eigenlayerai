(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{93615:function(e,t,a){Promise.resolve().then(a.bind(a,38206))},38206:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eS}});var l=a(81438),n=a(66427),s=a(4766);let r=n.forwardRef(function(e,t){let{title:a,titleId:l,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":l},s),a?n.createElement("title",{id:l},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});var i=a(42140),d=a(32725),o=a(33849),c=a(65943),u=a(30520),m=a(45268),x=a(24348),h=a(37238),f=a(4725);let p=(0,n.memo)((0,n.forwardRef)((e,t)=>{let{title:a,onClose:n}=e;return(0,l.jsxs)("div",{ref:t,className:"flex h-8 max-h-8 min-h-8 flex-row items-center justify-between",children:[(0,l.jsx)(s._T,{className:"text-TextXL font-bold text-blue-800 sm:text-DisplayXS",children:a}),(0,l.jsx)(r,{onClick:n,className:"h-8 w-8 text-blue-800 hover:cursor-pointer max-sm:translate-x-2"})]})}));p.displayName="DashboardWithdrawalSheetHeader";let b=(0,n.memo)(e=>{let{withdrawalFieldKey:t,onClose:a}=e,r="completableWithdrawal"===t,i=(0,n.useRef)(null),[d,o]=(0,n.useState)(0),[c,x]=(0,n.useState)({}),h=(0,n.useCallback)(e=>x(t=>({...t,...e})),[]),{data:{single:f,batches:p},isLoading:b}=(0,m.$)(),v=(0,n.useMemo)(()=>{let e={...f,...p},a="".concat(t,"s");return Object.entries(c).reduce((t,l)=>{var n,s;let[r,i]=l,d=null!==(s=null===(n=e[r])||void 0===n?void 0:n[a])&&void 0!==s?s:[];return i?[...t,...d]:t},[])},[t,c,f,p]),{completeWithdrawal:N,completeWithdrawalToeigenlayerAI:y,unstakeMenuProps:{withdrawalAmounts:T}}=(0,u.PV)({withdrawals:v,enabled:!!v.length}),k=(0,n.useMemo)(()=>{let e="".concat(t,"Amount");return Object.values(null!=f?f:{}).filter(t=>!!t[e]).sort((t,a)=>t[e]<a[e]?1:-1)},[f,t]),S=(0,n.useMemo)(()=>{let e="".concat(t,"Amounts");return Object.values(null!=p?p:{}).filter(t=>t[e].some(Boolean)).sort((e,t)=>(null==e?void 0:e.tokens[0].name)<(null==t?void 0:t.tokens[0].name)?-1:1)},[p,t]);(0,n.useEffect)(()=>{if(!i.current)return;let e=()=>{var e;o(null!==(e=i.current.clientHeight)&&void 0!==e?e:0)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[i.current,i]);let C=(0,n.useCallback)(e=>{let{children:t}=e,a=r?"form":"div";return(0,l.jsx)(a,{className:"flex h-full max-h-[calc(100vh-80px)] flex-col overflow-hidden",children:t})},[r]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(C,{children:[(0,l.jsxs)("div",{className:"flex h-full w-full flex-col overflow-auto",style:{height:"calc(100% - ".concat(d-24,"px)")},children:["completableWithdrawal"===t&&(0,l.jsxs)(s._T,{intent:"TextS",className:"mb-4 text-blue-800",children:["Select ",S.length?"what":"the tokens that"," that you would like to withdraw"]}),b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mb-2 h-4 w-[45%] animate-pulse rounded-md bg-blue-800 bg-opacity-20"}),(0,l.jsx)(g,{canCompleteWithdraw:r}),(0,l.jsx)(g,{canCompleteWithdraw:r})]}),!b&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s._T,{intent:"TextXS",className:"mb-2 font-bold text-blue-800 opacity-40",children:S.length?"Single-Token withdrawals":"Assets ".concat(r?"awaiting":"pending"," withdrawal")}),k.map(e=>(0,l.jsx)(w,{withdrawals:e,withdrawalFieldKey:t,onClose:a,checked:c[e.symbol],onCheckedChange:h},e.symbol)),!!S.length&&(0,l.jsx)(s._T,{intent:"TextXS",className:"my-2 font-bold text-blue-800 opacity-40",children:"Multi-Token withdrawals"}),S.map(e=>(0,l.jsx)(w,{withdrawals:e,withdrawalFieldKey:t,onClose:a,checked:c[e.symbols],onCheckedChange:h},e.symbols)),!k.length&&!S.length&&(0,l.jsx)("div",{className:"flex h-[300px] max-h-full w-full flex-col items-center justify-center",children:(0,l.jsx)(s._T,{intent:"TextM",className:"text-center text-blue-800",children:"No withdrawals available"})})]})]}),r&&(0,l.jsx)(j,{ref:i,onClose:a,completeWithdrawal:N,completeWithdrawalToeigenlayerAI:y,withdrawalTokenCount:Object.keys(T).length})]})})});function g(e){let{children:t,canCompleteWithdraw:a}=e;return(0,l.jsx)("div",{className:(0,i.cn)("mb-2 flex max-w-full flex-row items-center justify-between gap-4 overflow-hidden rounded-lg border-slate-200 bg-slate-50 px-2 py-2",t&&"hover:rounded-lg hover:bg-slate-200",!t&&"animate-pulse"),children:null!=t?t:(0,l.jsx)("div",{className:a?"h-6":"h-10"})})}b.displayName="DashboardWithdrawalSheetBody";let w=(0,n.memo)(e=>{let{withdrawals:t,withdrawalFieldKey:a,checked:r,onClose:i,onCheckedChange:u}=e,{data:m}=(0,x.Z)(),{data:p}=(0,h.Z)(),b="completableWithdrawal"===a,w="".concat(a,"s"),j=t.type===d.fk.SINGLE,v=j?t.symbol:t.symbols,N=Math.min(...t[w].map(e=>Number(e.completableBlock))),{data:y,isLoading:T}=(0,f.F)({targetBlock:N,useBlockNumberParams:{query:{refetchInterval:6e4}}}),k=(0,n.useMemo)(()=>{if(!p||!(null==m?void 0:m.length))return[];let e=[p,...m];return(j?[t]:t.tokens).map(t=>e.find(e=>(null==e?void 0:e.symbol)===t.symbol))},[j,t,m,p]),S=(0,n.useMemo)(()=>k.map(e=>{let{icon:t}=e;return t}),[k]),C=(0,n.useCallback)(e=>{u({[v]:e})},[u,v]),E=(0,n.useMemo)(()=>T?(0,l.jsx)("div",{className:"bg-text-blue-800 h-4 w-12 animate-pulse rounded-sm bg-opacity-50"}):(0,l.jsxs)(s._T,{intent:"TextXS",weight:"bold",className:"opacity-50",children:["~",y]}),[T,y]);return(0,l.jsxs)(g,{children:[(0,l.jsxs)("div",{className:"flex max-w-full flex-shrink items-center gap-2 overflow-hidden",children:[b&&(0,l.jsx)(s.XZ,{checked:r,onCheckedChange:C,className:"flex-shrink-0 translate-x-px"}),(0,l.jsx)(c.Z,{tokenIcons:S,className:"flex-shrink-0"}),(0,l.jsx)("div",{className:"flex max-w-full flex-shrink flex-col gap-1 overflow-hidden",children:k.map(e=>(0,l.jsx)(o.Z,{href:"/restake/".concat(e.symbol,"?interact=withdraw"),onClick:i,className:"inline-block max-w-full overflow-hidden text-ellipsis whitespace-nowrap",children:(0,l.jsx)(s._T,{intent:"TextS",className:"max-w-full overflow-hidden text-blue-500 underline underline-offset-1 sm:block",children:e.name})},e.symbol))})]}),(0,l.jsxs)("div",{className:"flex flex-shrink-0 flex-col items-end gap-1",children:[k.map((e,n)=>{var r;return e&&(0,l.jsxs)(s._T,{intent:"TextS",className:"flex gap-1 text-blue-800",children:[(0,l.jsx)(s.Lm,{value:e.convertSharesToUnderlying(null!==(r=j?t["".concat(a,"Amount")]:t["".concat(a,"Amounts")][n])&&void 0!==r?r:0,{format:"decimal"}),format:"balance",decimals:e.decimals}),(0,l.jsx)("span",{className:"inline-block text-slate-900 sm:text-slate-400",children:e.symbol})]},n)}),!b&&E]})]})});w.displayName="WithdrawalItem";let j=(0,n.forwardRef)((e,t)=>{let{onClose:a,completeWithdrawal:n,completeWithdrawalToeigenlayerAI:r,withdrawalTokenCount:d}=e;return(0,l.jsxs)("div",{ref:t,className:"absolute bottom-0 left-0 right-0 flex flex-col gap-4 border-t border-t-black/10 bg-blue-100 p-6 pt-4",children:[(0,l.jsxs)(s._T,{intent:"TextM",className:(0,i.cn)("flex w-full items-center justify-between rounded-md border-2 border-blue-500 bg-white/50 px-3 py-1.5 opacity-50 transition-opacity",!!d&&"opacity-100"),children:[(0,l.jsx)("span",{children:"Tokens selected"}),(0,l.jsx)("span",{children:d})]}),(0,l.jsxs)("div",{className:"flex w-full justify-center gap-2",children:[(0,l.jsx)(s.xk,{type:"submit",onClick:e=>{e.preventDefault(),a(),n()},disabled:!d,intent:"primary",size:s.dr.SM,className:"flex-1",children:"WITHDRAW"}),(0,l.jsx)(s.xk,{onClick:()=>{a(),r()},disabled:!d,intent:"secondary",size:s.dr.SM,className:"flex-1",children:"REDEPOSIT"})]})]})});j.displayName="CompleteWithdrawalFooter";var v=a(89832),N=a(83062),y=a(84465),T=a(64514),k=a(83093),S=a(84372),C=a(1569),E=a(61842);let _=(0,n.forwardRef)((e,t)=>(0,l.jsx)(s.xk,{intent:"primary",ref:t,disabled:e.disabled,className:"min-w-[104px] uppercase text-white",size:s.dr.SM,onClick:e.onClick,children:"Restake"}));function A(e){let{action:t="deposit",ModalTriggerButton:a=_}=e,{isRewardTokenModalOpen:r,rewardTokenModalData:d,toggleRewardTokenModal:o,depositModalButton:c}=(0,C.Z)(),u=(0,N.useSearchParams)(),m=(null==u?void 0:u.get("flow"))==="true",x=(0,n.useMemo)(()=>m&&"deposit"===t,[m,t]),[h,f]=(0,n.useState)(x),[p,b]=(0,n.useState)("animate-fadeIn");(0,n.useEffect)(()=>{h&&b("animate-fadeIn")},[h]);let g=(0,N.useRouter)(),w=()=>{g.replace("/"),b("animate-fadeOut"),setTimeout(()=>{f(!1)},300)},{writeAccess:j}=(0,E.Z)();return(0,l.jsxs)(y.fC,{open:h,children:[(0,l.jsx)(k.Z,{headerTitle:"Reward tokens for ".concat(d.symbol),isOpen:r,onClose:o,rewardTokenModalTableData:d.rewardTokens,depositOrDelegateButton:c}),(0,l.jsx)(y.xz,{asChild:!0,children:(0,l.jsx)(a,{onClick:()=>f(!0),disabled:!j})}),(0,l.jsxs)(y.VY,{onEscapeKeyDown:w,className:"fixed left-0 top-0 z-10 flex h-screen w-screen flex-col bg-blue-800 pt-5 sm:pt-8 ".concat((!x||"animate-fadeOut"===p)&&p),children:[(0,l.jsxs)("div",{className:"mb-10 flex w-full items-center justify-between px-8",children:[(0,l.jsx)("div",{onClick:w,className:"w-fit cursor-pointer text-white-500 hover:text-white-500/80",children:"← Back"}),(0,l.jsx)("div",{className:"w-fit text-white",children:(0,l.jsx)(T.Z,{intent:"secondary",connectedClassName:"text-white-400 hover:bg-white-100 hover:border-transparent py-1 px-3 hover:text-white-950",disconnectedClassName:"text-white-400 border-transparent hover:bg-white-100 hover:border-transparent py-1 px-3 hover:text-white-950"})})]}),(0,l.jsx)("div",{className:"h-full w-full px-8",children:(0,l.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,l.jsx)("div",{className:"mb-5 flex text-white",children:(0,l.jsx)(s._T,{intent:"DisplayS",children:"Select an Asset"})}),(0,l.jsx)("div",{className:"w-full rounded-lg bg-white",children:(0,l.jsx)(S.Z,{page:"dashboard",rowSelection:"single",onRowSelected:e=>{let{slug:a}=(0,i.fr)(null==e?void 0:e.data);g.push("/restake/".concat(a).concat("ETH"===a?"":"?action=".concat(t,"&flow=true")))}})})]})})]})]})}_.displayName="DefaultModalTriggerButton";var L=a(3993);function R(e){let{className:t}=e;return(0,l.jsxs)("div",{className:(0,i.cn)("flex min-h-[186px] flex-col gap-2 rounded-lg p-2",t),children:[(0,l.jsx)(s.yg,{className:"w-1/3"}),(0,l.jsx)(s.yg,{intent:"TextS",className:"h-full flex-grow"})]})}function M(e){let{className:t,totalRestakedData:a,completableSheetDisplay:r,completableWithdrawals:d,pendingWithdrawals:o,operatorSummary:u,isConnected:m,isDelegated:x,canUnstake:h,canWithdraw:f,isLoading:p}=e;return p?(0,l.jsx)(R,{className:t}):(0,l.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-2 rounded-lg p-4",t),children:[(0,l.jsxs)("div",{"data-testid":"total-restake-card",className:"mb-4 flex flex-col justify-between gap-1 px-2 md:mb-4",children:[(0,l.jsx)(s._T,{intent:"TextXS",font:"ibmPlexMono",className:"uppercase text-blue-400",children:"Total Restaked"}),(0,l.jsxs)(s._T,{intent:"DisplayS",className:"uppercase text-blue-800",weight:"medium",dataCypress:"restakedBalance",children:[(0,l.jsx)(s.Lm,{value:a.userTotalRestakedInETH,format:"balance"}),(0,l.jsxs)(s._T,{intent:"DisplayS",className:"text-blue-400",children:[" ","ETH"]})]}),m&&a.usersStakedTokens.filter(e=>!(0,L.Z1)(e)).map(e=>{var t;let{deposited:a,symbol:n,decimals:r}=e;return a&&(null==a?void 0:a.underlying)>0n&&(0,l.jsxs)(s._T,{intent:"TextS",className:"uppercase text-blue-800",children:[(0,l.jsx)(s.Lm,{value:null!==(t=a.underlying)&&void 0!==t?t:0n,format:"balance",decimals:r})," ",n]},n)})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:mt-auto",children:[m&&(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between gap-1 border-t border-blue-100 p-2",children:[(0,l.jsx)(s._T,{intent:"TextS",className:"my-0.5 text-blue-400",children:"Delegated to"}),x?(0,l.jsx)(s._T,{intent:"TextS",weight:"medium",className:"my-0.5",children:(0,l.jsx)(v.D,{name:null==u?void 0:u.name,address:null==u?void 0:u.address,logo:null==u?void 0:u.logo})}):(0,l.jsx)(s._T,{intent:"TextS",className:"my-0.5 text-blue-400",children:"Not Delegated"})]}),m&&o.length>0&&(0,l.jsxs)("div",{className:"flex items-center justify-between border-t border-blue-100 p-2",children:[(0,l.jsx)(s._T,{intent:"TextS",className:"text-blue-400",children:"In Escrow"}),(0,l.jsx)(c.Z,{tokenIcons:o.sort((e,t)=>e.pendingWithdrawalAmount<t.pendingWithdrawalAmount?-1:1).map(e=>{let{icon:t}=e;return t})})]}),m&&d.length>0&&(0,l.jsxs)("div",{className:"flex items-center justify-between border-t border-blue-100 p-2",children:[(0,l.jsx)(s._T,{intent:"TextS",className:"text-blue-400",children:"Available to withdraw"}),(0,l.jsx)(c.Z,{tokenIcons:d.sort((e,t)=>e.completableWithdrawalAmount<t.completableWithdrawalAmount?-1:1).map(e=>{let{icon:t}=e;return t})})]})]}),(0,l.jsxs)("div",{className:"flex flex-grow-0 flex-col gap-2 sm:flex-row",children:[(0,l.jsx)(A,{action:"unstake",ModalTriggerButton:(0,n.forwardRef)((e,t)=>(0,l.jsx)(s.xk,{intent:"secondary",ref:t,disabled:!h,className:"w-full uppercase sm:w-1/2",size:s.dr.XS,onClick:e.onClick,children:"Unstake"}))}),(0,l.jsx)(s.xk,{intent:"secondary",className:"w-full flex-grow-0 uppercase sm:w-1/2",size:s.dr.XS,onClick:r,disabled:!f,children:"Withdraw"})]})]})}var Z=a(86360),W=a(58529),O=a(77723),D=a(30696);let I=[{field:"name",headerName:"Asset",resizable:!1,flex:2,minWidth:100,suppressMovable:!0,cellRenderer:e=>(0,l.jsxs)(o.Z,{href:"/restake/".concat(e.data.slug),className:"mx-auto flex h-full items-center gap-2",children:[(0,l.jsx)(O.Z,{src:e.data.icon,symbol:e.data.symbol,size:s.dr.XS}),(0,l.jsx)(s._T,{intent:"TextXS",weight:"medium",className:"hidden text-blue-700 underline-offset-1 lg:block",dataCypress:"dashboardTokenName",children:e.value}),(0,l.jsx)(s._T,{intent:"TextXS",className:"text-blue-400",children:e.data.symbol})]}),headerComponent:W.sj},{field:"balance",headerName:"Wallet Balance",resizable:!1,suppressMovable:!0,flex:1,minWidth:150,wrapHeaderText:!0,comparator:(e,t)=>Number(e)-Number(t),type:"rightAligned",headerClass:"ag-eigen-header-right",cellRenderer:e=>(0,l.jsx)(W.bL,{...e,format:"balance",showDash:(null==e?void 0:e.data.symbol)==="ETH",decimals:e.data.decimals}),headerComponent:W.sj},{field:"completableWithdrawalAmount",headerName:"Available to Withdraw",resizable:!1,suppressMovable:!0,flex:1,minWidth:200,wrapHeaderText:!0,wrapText:!0,autoHeight:!0,comparator:(e,t)=>Number(e)-Number(t),type:"rightAligned",headerClass:"ag-eigen-header-right",cellRenderer:e=>(0,l.jsx)(W.bL,{...e,format:"balance"}),headerComponent:W.sj},{field:"pendingWithdrawalAmount",headerName:"Pending Withdraw",resizable:!1,suppressMovable:!0,flex:1,minWidth:150,wrapHeaderText:!0,autoHeight:!0,comparator:(e,t)=>Number(e)-Number(t),type:"rightAligned",headerClass:"ag-eigen-header-right",cellRenderer:e=>(0,l.jsx)(W.bL,{...e,format:"balance"}),headerComponent:W.sj},{field:"deposited.underlying",headerName:"Restaked Balance",resizable:!1,suppressMovable:!0,flex:1,minWidth:150,wrapHeaderText:!0,autoHeight:!0,comparator:(e,t)=>Number(e)-Number(t),type:"rightAligned",headerClass:"ag-eigen-header-right",cellRenderer:e=>(0,l.jsx)(W.bL,{...e,format:"balance"}),headerComponent:W.sj},{field:"earnedTokens",headerName:"Historical APR",resizable:!1,suppressMovable:!0,flex:1,minWidth:200,wrapHeaderText:!0,autoHeight:!0,cellClass:"reward-token-cell",comparator:(e,t,a,l)=>{var n,s,r,i,d,o,c,u,m,x;let h=null!==(r=null==a?void 0:null===(n=a.data)||void 0===n?void 0:n.apr)&&void 0!==r?r:0,f=null!==(i=null==l?void 0:null===(s=l.data)||void 0===s?void 0:s.apr)&&void 0!==i?i:0;return Number(h)===Number(f)?(null!==(m=null==a?void 0:null===(o=a.data)||void 0===o?void 0:null===(d=o.earnedTokens)||void 0===d?void 0:d.length)&&void 0!==m?m:0)-(null!==(x=null==l?void 0:null===(u=l.data)||void 0===u?void 0:null===(c=u.earnedTokens)||void 0===c?void 0:c.length)&&void 0!==x?x:0):h-f},type:"rightAligned",headerClass:"ag-eigen-header-right",headerComponent:e=>(0,l.jsxs)(W.Oq,{...e,className:"ag-header-cell-label flex items-center gap-2 text-right",children:[(0,l.jsx)(s._T,{intent:"TextXS",className:"text-left font-ibmPlexMono font-normal uppercase text-blue-400",children:e.displayName}),(0,l.jsxs)(s.ag,{children:[(0,l.jsx)(s.ag.Trigger,{children:(0,l.jsx)(Z.Z,{className:"h-4 w-4 text-blue-400"})}),(0,l.jsx)(s.ag.Content,{children:(0,l.jsx)("div",{className:"w-64 text-center text-blue-800",children:(0,l.jsx)(s._T,{intent:"TextS",children:"Your estimated annualized historical 7-day reward rate for delegating the selected asset to this Operator."})})})]})]}),cellRenderer:e=>e.data.isEarnerAPRsLoading?(0,l.jsx)(s.yg,{className:"mr-6 flex h-8 items-center justify-center rounded-3xl p-1.5",intent:"TextXS"}):e.data.isRewardsPending?(0,l.jsx)(s.xk,{intent:"pill",className:"h-8 items-center border-none hover:bg-blue-50 active:bg-blue-50",size:s.dr.XS,ref:t=>{t&&(t.onclick=t=>{t.stopPropagation(),t.preventDefault(),e.data.onEarnedTokensClick(e.data.earnedTokens,e.data.apr)})},children:(0,l.jsx)(s._T,{intent:"TextS",className:"text-blue-400",children:"Pending"})}):e.data.earnedTokens&&e.data.earnedTokens.length>0?(0,l.jsx)(s.xk,{intent:"pill",size:s.dr.XS,className:"mr-6 flex h-8 items-center justify-center rounded-3xl p-1.5",ref:t=>{t&&(t.onclick=t=>{t.stopPropagation(),t.preventDefault(),e.data.onEarnedTokensClick(e.data.earnedTokens,e.data.apr)})},children:(0,l.jsx)(c.Z,{tokenIcons:e.data.earnedTokens.map(e=>e.icon),apr:e.data.apr})}):(0,l.jsx)(s._T,{intent:"TextXS",className:"mr-6 text-blue-400",children:"-"})}];function P(e){let{usersStakedTokens:t=[],isConnected:a=!1,isLoading:n=!0}=e,r=(0,D.Z)(),i=a&&0===t.length&&!n;return!a||i?(0,l.jsxs)("div",{className:"flex flex-col justify-between rounded-lg bg-white p-2",children:[(0,l.jsx)(s._T,{intent:"TextL",className:"mx-2 mb-2 text-blue-800",children:"Restaked Assets"}),(0,l.jsx)("div",{className:"mx-auto flex h-56 flex-col items-center justify-center md:w-1/2",children:(0,l.jsx)(s._T,{intent:"DisplayS",className:"text-blue-400",children:"No assets to display"})})]}):(0,l.jsx)(W.wQ,{title:"Restaked Assets",data:t,isLoading:n,domLayout:"autoHeight",rowClass:"hover:bg-blue-100 cursor-pointer",columnDefs:I,onRowClicked:e=>{let t=null==e?void 0:e.data;(null==t?void 0:t.address)&&r.push("/restake/".concat(null==t?void 0:t.slug))},pagination:!0,paginationPageSize:20,localStorageSortKey:"table-restake",customOnGridReady:(e,t)=>{a&&!t?e.api.applyColumnState({state:[{colId:"deposited.underlying",sort:"desc"}]}):e.api.applyColumnState({state:[{colId:"earnedTokens",sort:"desc"}]})}})}var X=a(72110),z=a(36069),F=a(3102),B=a(75624),H=a(2142),K=a(74451),q=a(26821),U=a(40589),G=a(77809),V=a(27196),Q=()=>{let[e,t]=(0,n.useState)([]),[a,l]=(0,z.nj)(e,1e3),r=(0,K.N)(e=>e.updateTransaction);(0,n.useEffect)(()=>{l(e)},[e,l]);let{address:i}=(0,V.Z)(),{address:d}=(0,F.m)(),{data:o,isLoading:c,isSuccess:u,error:m,isFetched:x,isFetching:h}=G.h.rewards.getClaimProofs.useQuery({earner:i,tokenAddress:a.map(e=>e.address)},{enabled:a.length>0,refetchOnWindowFocus:!1,initialData:{proof:{rootIndex:0,earnerIndex:0,earnerTreeProof:"",earnerLeaf:{earner:"",earnerTokenRoot:""},leafIndices:[],tokenTreeProofs:[],tokenLeaves:[]}}}),{rootIndex:f,earnerIndex:p,earnerTreeProof:b,earnerLeaf:g,leafIndices:w,tokenTreeProofs:j,tokenLeaves:v}=(null==o?void 0:o.proof)||{},{data:N,refetch:y,error:T,isLoading:k,isSuccess:S}=(0,B.G)({address:U.stakeConfig.rewardsCoordinatorAddress,abi:H.qC,functionName:"processClaim",args:[{rootIndex:f,earnerIndex:p,earnerTreeProof:b,earnerLeaf:g,tokenIndices:w,tokenTreeProofs:j,tokenLeaves:v},d],query:{enabled:u&&x,refetchOnWindowFocus:!1}}),{writeContract:C}=(0,s.Hk)(q.v,{updateTransaction:r,onMutate:()=>{r({message:"Claiming..."})},onError:e=>{r({message:e.message||"Failed to claim rewards."})},onTxnSuccess:()=>{r({message:"Rewards claimed successfully."})}}),E=k||h||e.length!==a.length;return{claim:()=>(null==N?void 0:N.request)&&C(N.request),claimRefetch:y,claimConfigError:T,claimSelection:e,isClaimProofLoading:c,isClaimProofSuccess:u,isClaimButtonDisabled:0===e.length||!S||E,claimProofError:m,setClaimSelection:t,isClaimConfigLoading:k,isClaimProofOrConfigLoading:E}},Y=a(38778),$=a(43424);async function J(e){let{earner:t}=e,a=await fetch("".concat($.O.NEXT_PUBLIC_eigenlayerAI_BACKEND_URI_V2,"/eigenlayerAI.RewardsService/GetClaimerForEarner"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({earnerAddress:t})});return await a.json()}var ee=function(e){return(0,Y.a)({queryKey:["earner",e],queryFn:async()=>{if(!e)return null;let{claimerAddress:t}=await J({earner:e});return(0,i.EU)(t,e)?null:t},enabled:!!e})},et=a(12166),ea=a(54131),el=function(e){let{data:t,setClaimSelection:a,rewardsMode:n}=e;return(0,l.jsx)(W.wQ,{data:t,domLayout:"normal",containerClassName:"h-full w-full",tableWrapperClassName:"h-full w-full grow",localStorageSortKey:"table-claim-selection-".concat(n),columnDefs:[{field:"name",headerName:"REWARD TOKEN",resizable:!1,flex:2,suppressMovable:!0,headerCheckboxSelection:"select"===n,checkboxSelection:"select"===n,showDisabledCheckboxes:!0,cellRenderer:e=>(0,l.jsx)(et.Z,{icon:e.data.icon,name:e.data.name,tokenAddress:e.data.address,rewardsMode:n,symbol:e.data.symbol})},{field:"weiAmount",headerName:"CLAIMABLE",resizable:!1,flex:1,suppressMovable:!0,type:"rightAligned",cellRenderer:e=>(0,l.jsx)(ea.Z,{weiAmount:e.data.weiAmount})}],search:"select"===n,isLoading:0===t.length,rowSelection:"select"===n?"multiple":void 0,rowClass:"hover:bg-blue-100 cursor-pointer",rowMultiSelectWithClick:!0,onRowSelected:e=>{let{api:t}=e;return a(t.getSelectedRows())},isRowSelectable:()=>"select"===n})},en=a(92332),es=function(e){let{configError:t,transaction:a}=e;if(t)return(0,l.jsx)("div",{className:"w-full px-4 pt-4",children:(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(r,{className:"h-14 w-14 text-red-400"}),(0,l.jsx)(s._T,{intent:"DisplayS",children:"Failed to claim rewards"}),(0,l.jsx)(s._T,{intent:"TextS",className:"max-h-20 overflow-auto",children:t||"An error occurred, please try again later."})]})});let n=a.hash&&(0,l.jsx)(s.Oj,{hash:a.hash,blockExplorerURL:$.O.NEXT_PUBLIC_BLOCK_EXPLORER_URL});return(0,l.jsxs)("div",{className:"w-full px-4 pt-4",children:[a.status===d.TransactionStatus.Pending&&(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(X.default,{src:"/eigenGif/Blue-Eigen-Loader.gif",height:64,width:64,alt:"eigenlayerAI loader"}),a.message||"Loading...",n]}),a.status===d.TransactionStatus.Success&&(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,l.jsx)(en.Z,{className:"h-14 w-14 text-green-400"}),(0,l.jsx)(s._T,{intent:"DisplayS",children:a.message||"Success!"}),n]}),a.status===d.TransactionStatus.Failed&&(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)(r,{className:"h-14 w-14 text-red-400"}),(0,l.jsx)(s._T,{intent:"TextL",children:"Failed to claim rewards"}),(0,l.jsx)(s._T,{intent:"TextS",className:"overflow-auto",children:a.message||"An error occurred, please try again later."}),n]})]})},er=(0,n.memo)(function(e){let{tokenClaims:t,isOpen:a,onClose:i}=e,[c,u]=(0,n.useState)([]),[m,x]=(0,n.useState)("SELECT TOKENS"),[h,f]=(0,n.useState)("select"),p=(0,K.N)(e=>e.transaction),{data:b}=ee((0,E.Z)(e=>e.connectedAddress)),{setClaimSelection:g,claimSelection:w,isClaimButtonDisabled:j,claimProofError:v,claimConfigError:N,isClaimConfigLoading:T,isClaimProofOrConfigLoading:k,claim:S}=Q();(0,n.useEffect)(()=>{t&&u(t)},[t]),(0,n.useEffect)(()=>{if(!w.length)return x("SELECT TOKENS");g(w),x("Claim ".concat(w.length," TOKENS"))},[w]);let C=(0,n.useCallback)(()=>{f("select"),u(t),g([]),i()},[t,a]);return(0,l.jsx)(y.fC,{open:a,children:(0,l.jsxs)(y.h_,{children:[(0,l.jsx)(y.aV,{className:"fixed top-0 z-10 flex h-screen w-screen items-center justify-center bg-black-200",onClick:C}),(0,l.jsxs)(y.VY,{className:"fixed left-1/2 top-1/2 z-20 flex h-full w-full -translate-x-1/2 -translate-y-1/2 transform flex-col items-center justify-center gap-4 rounded-lg bg-white outline-none sm:top-1/3 sm:mt-20 sm:h-[600px] sm:w-[550px]",children:["select"!==h||N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(es,{configError:null==N?void 0:N.message,transaction:p}),(0,l.jsx)(r,{onClick:C,className:"absolute right-4 top-4 h-6 w-6 cursor-pointer hover:text-blue-400"})]}):(0,l.jsxs)(y.Dx,{className:"flex w-full items-center justify-between px-4 pt-4",children:[(0,l.jsx)(s._T,{intent:"TextL",children:"Claim Rewards"}),(0,l.jsx)(r,{onClick:C,className:"h-6 w-6 cursor-pointer hover:text-blue-400"})]}),"select"===h?(0,l.jsx)(el,{data:c,setClaimSelection:g,rewardsMode:h}):(0,l.jsxs)("div",{className:"flex h-full w-full flex-col overflow-y-auto px-4 text-blue-300",children:[(0,l.jsxs)("div",{className:"mb-2 flex flex-row items-center justify-between px-2",children:[(0,l.jsx)(s._T,{className:"font-ibmPlexMono",intent:"TextXS",children:"REWARD TOKEN"}),(0,l.jsx)(s._T,{className:"font-ibmPlexMono",intent:"TextXS",children:N||T||p.status!==d.TransactionStatus.Success?"CLAIMABLE":"CLAIMED"})]}),w.map(e=>(0,l.jsxs)("div",{className:"flex flex-row items-center justify-between border-t border-t-blue-100 px-2",children:[(0,l.jsx)(et.Z,{icon:e.icon,name:e.name,symbol:e.symbol,tokenAddress:e.address,rewardsMode:h}),(0,l.jsx)(ea.Z,{weiAmount:e.weiAmount})]},e.address))]}),(0,l.jsx)("div",{className:"z-10 flex w-full justify-center rounded-b-lg bg-white p-4 shadow-up",children:"select"===h?b?(0,l.jsxs)("div",{className:"flex flex-col items-center",children:[(0,l.jsx)(s._T,{intent:"TextS",weight:"medium",className:"text-center",children:"Only your elected claimer can claim rewards"}),(0,l.jsx)(o.Z,{className:"mt-2 hover:underline",isExternalLink:!0,href:"".concat($.O.NEXT_PUBLIC_BLOCK_EXPLORER_URL,"/address/").concat(b),children:(0,l.jsxs)(s._T,{intent:"TextXS",className:"flex items-center gap-2 text-blue-400",children:[b," ↗"]})})]}):(0,l.jsx)(s.xk,{intent:"primary",size:s.dr.MD,onClick:()=>{f("claim"),S()},className:"w-full uppercase text-white",disabled:j,children:k?(0,l.jsx)(X.default,{src:"/eigenGif/White-Eigen-Loader.gif",height:24,width:24,alt:"eigenlayerAI loader",className:"mx-auto rounded-lg"}):m}):v?(0,l.jsx)(s.xk,{intent:"primary",size:s.dr.MD,onClick:S,disabled:j||T||p.status===d.TransactionStatus.Pending,className:"w-full uppercase text-white",children:"Retry Claim"}):(0,l.jsx)(s.xk,{intent:"primary",size:s.dr.MD,disabled:T||p.status===d.TransactionStatus.Pending,onClick:C,className:"w-full uppercase text-white",children:"Done"})})]})]})})}),ei=function(e){let{tokenClaims:t,onClaimsModalOpenClose:a}=e,n="";return 0===t.length?null:(t.length>3&&(n="+".concat(t.length-3),t=t.slice(0,3)),(0,l.jsxs)("div",{className:"hidden flex-wrap justify-end gap-2 md:flex",children:[t.length>0?t.map(e=>{let{icon:t,address:a,weiAmount:n}=e;return(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[""!==t?(0,l.jsx)(O.Z,{src:t,fill:!1,className:"h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-100"}):(0,l.jsx)("div",{className:"h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-300"}),(0,l.jsx)(s._T,{intent:"TextS",className:"uppercase text-blue-800",children:(0,l.jsx)(s.Lm,{value:n,format:"balance"})})]},a)}):null,n&&(0,l.jsx)(s.xk,{intent:"pill",className:"hidden px-2 py-0.5 md:flex",onClick:a,children:(0,l.jsxs)(s._T,{intent:"TextXS",className:"text-blue-800",children:[n," more"]})})]}))},ed=a(58029),eo=(0,n.memo)(function(e){let{className:t}=e,{address:a}=(0,V.Z)(),{rewardsResponse:r,isLoading:d,tokenClaims:o,claimAmountInEth:u,eigenReward:m}=(0,ed.Z)(a),{data:x}=ee((0,E.Z)(e=>e.connectedAddress)),[h,f]=(0,n.useState)(!1),p=()=>{f(!h)};return d?(0,l.jsx)(R,{className:t}):r instanceof Error?(0,l.jsx)("div",{className:(0,i.cn)("flex flex-col justify-between rounded-lg p-4",t),children:(0,l.jsx)(s._T,{intent:"TextS",className:"text-red-400",children:r.message})}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(er,{tokenClaims:o,isOpen:h,onClose:p}),(0,l.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-2 rounded-lg p-4",t),children:[(0,l.jsxs)("div",{className:"mb-4 flex flex-col justify-between gap-1 px-2 md:mb-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(s._T,{intent:"TextXS",font:"ibmPlexMono",className:"uppercase text-blue-400",children:"Claimable Rewards"}),x&&(0,l.jsxs)(s.ag,{children:[(0,l.jsx)(s.ag.Trigger,{children:(0,l.jsx)("div",{className:"flex items-center rounded-lg bg-blue-50 px-2 py-1 text-blue-400",children:(0,l.jsxs)(s._T,{intent:"TextXS",className:"flex items-center gap-1",children:["Elected claimer:",(0,l.jsx)(s.Lp,{address:x})]})})}),(0,l.jsx)(s.ag.Content,{side:"bottom",align:"end",collisionPadding:20,style:{padding:"8px",whiteSpace:"normal",overflowWrap:"break-word",height:"auto"},children:(0,l.jsx)("div",{className:"w-64 text-center text-blue-800",children:(0,l.jsx)(s._T,{intent:"TextXS",children:"An Elected Claimer is the address you have designated to claim your rewards. Only the Elected Claimer wallet is able to claim rewards."})})})]})]}),(0,l.jsxs)(s._T,{intent:"DisplayS",className:"text-blue-800",weight:"medium",children:[(0,l.jsx)(s.Lm,{value:u,format:"balance"}),(0,l.jsxs)(s._T,{intent:"DisplayS",className:"text-blue-400",children:[" ","ETH"]})]}),(0,l.jsx)("div",{})]}),(0,l.jsxs)("div",{className:"flex flex-col content-center sm:mt-auto",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between border-t border-blue-100 p-2",children:[(0,l.jsx)(s._T,{intent:"TextS",className:"h-6 content-center text-blue-400",children:"AVS rewards"}),(0,l.jsx)(s.xk,{intent:"pill",className:"px-2 py-0.5 md:hidden",onClick:p,children:(0,l.jsx)(c.Z,{tokenIcons:o.map(e=>e.icon)})}),(0,l.jsx)(ei,{tokenClaims:o,onClaimsModalOpenClose:p})]}),(0,l.jsxs)("div",{className:"flex items-center justify-between border-t border-blue-100 p-2",children:[(0,l.jsx)(s._T,{intent:"TextS",className:"h-6 content-center text-blue-400",children:"EIGEN rewards"}),m?(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(O.Z,{src:m.icon,fill:!1,className:"h-6 w-6 rounded-full border-2 border-blue-100 bg-blue-100"}),(0,l.jsx)(s._T,{intent:"TextS",className:"uppercase text-blue-800",children:(0,l.jsx)(s.Lm,{value:m.weiAmount,format:"balance"})})]}):null]})]}),(0,l.jsx)(s.xk,{intent:"secondary",className:"w-full uppercase",size:s.dr.XS,disabled:0===o.length,onClick:p,children:"Claim Rewards"})]})]})}),ec=a(31821),eu=a(80475),em=a(38648),ex=e=>{let{data:t,isLoading:a}=G.h.rewards.getLifetimeEarned.useQuery({earnerAddress:null!=e?e:""},{enabled:!!e,trpc:{context:{skipBatch:!0}}});return{lifetimeEarnedTokens:(0,n.useMemo)(()=>(null==t?void 0:t.rewards)?(0,em.A$)(t.rewards):[],[t]),lifetimeEarnedTokensError:null,isLifetimeEarnedTokensSuccess:!0,isLifetimeEarnedTokensLoading:a}},eh=a(13715),ef=function(){let{address:e,isConnected:t}=(0,V.Z)(),{lifetimeEarnedTokens:a,isLifetimeEarnedTokensLoading:n}=ex(e);return t?(0,l.jsxs)("div",{className:"flex h-80 flex-col justify-between gap-2 rounded-lg bg-white p-2",children:[(0,l.jsx)(s._T,{intent:"TextL",className:"mx-2 text-blue-800",children:"Lifetime earned rewards"}),(0,l.jsx)(eh.Z,{rewardData:a,isLoading:n})]}):null},ep=a(78130),eb=a(37860),eg=a(529),ew=a(24343),ej=a(21557),ev=a(64087),eN=a(7033),ey=a(69794),eT=a(33791),ek=a(63140);function eS(){let e=(0,s.Mi)(),{address:t,isConnected:a}=(0,V.Z)(),{data:r=[]}=G.h.token.getTokens.useQuery({include_native:!0}),{earnerAPRs:i,isEarnerAPRsLoading:d}=(0,eg.Z)(t,r.map(e=>e.strategyAddress)),[o,c]=(0,n.useState)(),{isEarnTokensModalOpenClose:u,openCloseEarnTokensModal:m,earnTokensModalData:x,setEarnTokensModalData:h}=(0,eb.Y)(),{isRewardsPending:g}=(0,ew.Z)(t),{data:{liquidRestakingTokens:w,nativeRestakingToken:j},isLoading:v}=(0,ev.r)(),{userTotalRestakedInETH:N,isLoading:y}=(0,eN.m)(),{data:T,isLoading:k}=(0,ey.Z)({refetchInterval:o}),{data:{liquidBalances:S}}=(0,eT.Z)(),{data:C,isDelegated:_}=(0,ep.O4)(),{isOperatorLoading:R,operatorSummary:Z}=(0,ej.GO)(C),[W,O]=(0,n.useState)(),D=(0,n.useMemo)(()=>{var e;if(!w||!j||!S||k)return[];let t=new Map(null!==(e=null==i?void 0:i.map(e=>[null==e?void 0:e.strategyAddress,e],[]))&&void 0!==e?e:[]);return[...w,j].filter(L.hD).map((e,a)=>{var l,n,s,r,i,o;let c=t.get(e.strategyAddress);return{...e,balance:"ETH"!==e.symbol?S[a]:null,completableWithdrawalAmount:e.convertSharesToUnderlying(null==T?void 0:null===(l=T[e.address])||void 0===l?void 0:l.completableWithdrawalAmount),pendingWithdrawalAmount:e.convertSharesToUnderlying(null==T?void 0:null===(n=T[e.address])||void 0===n?void 0:n.pendingWithdrawalAmount),pendingWithdrawals:null!==(r=null==T?void 0:null===(s=T[e.address])||void 0===s?void 0:s.pendingWithdrawals)&&void 0!==r?r:[],isRewardsPending:g,apr:c?Number(null!==(i=c.apr)&&void 0!==i?i:0):0,earnedTokens:c?(0,em.A$)(null!==(o=c.rewards)&&void 0!==o?o:[]):[],isEarnerAPRsLoading:d,onEarnedTokensClick:(t,a)=>{m(),O(e.symbol),h({tokens:t,apr:a})}}}).filter(e=>!!e.deposited.underlying||!!e.pendingWithdrawalAmount||!!e.completableWithdrawalAmount||!!e.balance)},[w,j,S,k,d,i,T,g,m,h]),{writeAccess:I}=(0,E.Z)(),[X,z,F]=(0,n.useMemo)(()=>D.reduce((e,t)=>{let[a,l,n]=e;return t.pendingWithdrawalAmount&&a.push(t),t.completableWithdrawalAmount&&l.push(t),t.deposited.underlying&&n.push(t.deposited.underlying),[a,l,n]},[[],[],[]]),[D]),B=(0,n.useMemo)(()=>Math.min(...X.map(e=>e.pendingWithdrawals.reduce((e,t)=>Math.min(e,Number(t.completableBlock)),Number.MAX_SAFE_INTEGER))),[X]),{currentBlock:H,data:K}=(0,f.F)({targetBlock:B,useBlockNumberParams:{query:{refetchInterval:6e4}},format:"date"});return(0,n.useEffect)(()=>{H&&X.length&&(B!==Number.MAX_SAFE_INTEGER&&K?c(+K-Date.now()+10):c(void 0))},[H,K,B,X.length]),(0,l.jsxs)("div",{className:"mb-4 flex flex-col gap-4",children:[(0,l.jsx)(eu.Z,{title:"".concat(W," rewards"),earnTokenModalTableData:null==x?void 0:x.tokens,apr:null==x?void 0:x.apr,isOpen:u,onClose:m}),(0,l.jsx)(ec.Z,{}),(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)(s._T,{intent:"DisplayS",weight:"medium",className:"text-blue-800",children:"Dashboard"}),(0,l.jsx)(A,{})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row",children:[(0,l.jsx)(M,{className:"bg-white md:basis-1/2",totalRestakedData:{isTokensStatsLoading:y,userTotalRestakedInETH:N,usersStakedTokens:D},canUnstake:F.length>0&&I,canWithdraw:z.length>0&&I,isDelegated:_,operatorSummary:Z,isOperatorLoading:R,isLoading:v||k&&!!t,isConnected:a,pendingWithdrawals:X,completableWithdrawals:z,completableSheetDisplay:()=>{e.showSheet({header:(0,l.jsx)(p,{title:"Available to withdraw",onClose:e.hideSheet}),body:(0,l.jsx)(b,{withdrawalFieldKey:"completableWithdrawal",onClose:e.hideSheet})})}}),(0,l.jsx)(eo,{className:"bg-white-950 md:basis-1/2"})]}),a&&0!==D.length?(0,l.jsx)(P,{isConnected:a,usersStakedTokens:D,isLoading:k&&!!t||v}):(0,l.jsx)(ek.default,{}),"v0"!==$.O.NEXT_PUBLIC_INCENTIVES_VERSION&&(0,l.jsx)(ef,{})]})}},54131:function(e,t,a){"use strict";var l=a(81438),n=a(4766);t.Z=function(e){let{weiAmount:t}=e;return(0,l.jsx)("div",{className:"flex items-center justify-end gap-1 py-3",children:(0,l.jsx)(n._T,{intent:"TextXS",className:"text-[10px] text-blue-700 sm:text-[12px]",children:(0,l.jsx)(n.Lm,{value:t,format:"balance"})})})}},89832:function(e,t,a){"use strict";a.d(t,{D:function(){return r}});var l=a(81438),n=a(4766),s=a(33849);function r(e){let{address:t,name:a,logo:r}=e;return(0,l.jsxs)(s.Z,{href:"/operator/".concat(t),className:"flex items-center gap-1.5 font-abcRepro text-TextS font-medium after:content-['_↗'] hover:underline",children:[(0,l.jsx)("img",{src:r||"/tokenIcon/beaconChainETH.svg",onError:e=>{e.currentTarget.src="/tokenIcon/beaconChainETH.svg"},height:20,width:20,alt:"operator logo",className:"h-5 w-5 rounded object-contain"}),a||(0,l.jsx)(n.Lp,{address:t})]})}},80475:function(e,t,a){"use strict";var l=a(81438),n=a(66427),s=a(84465),r=a(4766),i=a(27196),d=a(24343),o=a(38648),c=a(70806),u=a(13715);t.Z=(0,n.memo)(function(e){let{apr:t,earnTokenModalTableData:a=[],title:m,isOpen:x,onClose:h,isOnlyTokens:f}=e,[p,b]=(0,n.useState)([]),{isConnected:g,address:w}=(0,i.Z)();(0,n.useEffect)(()=>{a&&a.length>0&&b(a)},[a]);let{isRewardsPending:j}=(0,d.Z)(w);return(0,l.jsx)(s.fC,{open:x,children:(0,l.jsxs)(s.h_,{children:[(0,l.jsx)(s.aV,{className:"fixed top-0 z-10 flex h-screen w-screen items-center justify-center bg-black-200",onClick:h}),(0,l.jsx)(s.VY,{className:"fixed left-1/2 top-1/2 z-20 flex h-full w-full -translate-x-1/2 -translate-y-1/2 transform flex-col items-center justify-center gap-4 rounded-lg bg-white outline-none sm:top-1/3 sm:mt-20 sm:h-[450px] sm:w-[420px]",children:g?(0,l.jsxs)("div",{className:"flex h-full w-full flex-col gap-4 rounded-lg border border-blue-100 bg-white-950 px-4 py-6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r._T,{intent:"TextXL",weight:"medium",children:m})}),f?(0,l.jsx)(u.Z,{rewardData:p}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-blue-100 px-4 py-6",children:[(0,l.jsx)(c.Z,{}),j?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r._T,{intent:"DisplayXS",weight:"medium",className:"mr-1.5",children:"Pending"}),(0,l.jsx)(r._T,{intent:"TextXS",className:"text-blue-400",children:"Rewards may take up to 48 hours to be reflected"})]}):(0,l.jsx)(r._T,{intent:"DisplayXS",weight:"medium",className:"mr-1.5",dataCypress:"restakeBalance",children:(0,o.so)(null!=t?t:0)?(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(r.Lm,{value:100*Number(null!=t?t:0),format:"balance"}),"%"]}):"N/A"})]}),p.length>0&&(0,l.jsx)(u.Z,{rewardData:p,hiddenCols:["weiAmount"]})]})]}):(0,l.jsxs)("div",{className:"flex h-full w-full flex-col gap-4 rounded-lg border border-blue-100 bg-white-950 px-4 py-6",children:[(0,l.jsx)("div",{children:(0,l.jsx)(r._T,{intent:"TextXL",weight:"medium",children:m})}),(0,l.jsxs)("div",{className:"flex flex-col gap-2 rounded-lg border border-blue-100 px-4 py-6",children:[(0,l.jsx)(c.Z,{}),(0,l.jsx)("div",{children:"- - -"})]})]})})]})})})},70806:function(e,t,a){"use strict";var l=a(81438),n=a(86360),s=a(4766);t.Z=function(){return(0,l.jsxs)(s._T,{intent:"TextXS",font:"ibmPlexMono",className:"flex gap-1 text-blue-400",children:["Historical APR",(0,l.jsxs)(s.ag,{children:[(0,l.jsx)(s.ag.Trigger,{children:(0,l.jsx)(n.Z,{className:"h-4 w-4 text-blue-400"})}),(0,l.jsx)(s.ag.Content,{children:(0,l.jsx)("div",{className:"w-64 text-center text-blue-800",children:(0,l.jsx)(s._T,{intent:"TextS",children:"Your estimated annualized historical 7-day reward rate for delegating the selected asset to this Operator."})})})]})]})}},13715:function(e,t,a){"use strict";var l=a(81438),n=a(66427),s=a(4766),r=a(12166),i=a(54131),d=a(58529);let o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{field:"name",headerName:"REWARD TOKEN",resizable:!1,hide:e.includes("name"),suppressMovable:!0,flex:1,minWidth:80,wrapHeaderText:!0,wrapText:!0,autoHeight:!0,headerClass:"ag-eigen-header-left",cellRenderer:e=>(0,l.jsx)(r.Z,{icon:e.data.icon,name:e.data.name,tokenAddress:e.data.address,symbol:e.data.symbol,rewardsMode:"claim"}),headerComponent:d.sj},{field:"weiAmount",hide:e.includes("weiAmount"),headerName:"AMOUNT",resizable:!1,suppressMovable:!0,flex:1,minWidth:80,wrapHeaderText:!0,wrapText:!0,autoHeight:!0,type:"rightAligned",headerClass:"ag-eigen-header-right",valueFormatter:e=>{let{value:t}=e;return Number(t).toString()},comparator:(e,t)=>Number(e)-Number(t),cellRenderer:e=>(0,l.jsx)("div",{className:"mr-6",children:(0,l.jsx)(i.Z,{weiAmount:e.data.weiAmount})}),headerComponent:d.sj}]};t.Z=(0,n.memo)(function(e){let{rewardData:t,hiddenCols:a,isLoading:n=!1}=e;return(0,l.jsx)(d.wQ,{tableWrapperClassName:"h-full min-h-full",containerClassName:"grow",data:t,columnDefs:o(a),animateRows:!1,isLoading:n,className:"h-full",domLayout:"normal",suppressRowHoverHighlight:!0,noRowsOverlayComponent:()=>(0,l.jsx)(s._T,{intent:"TextM",className:"text-blue-400",children:"No rewards available"}),localStorageSortKey:"rewards-modal-table"})})},37860:function(e,t,a){"use strict";a.d(t,{Y:function(){return n}});var l=a(66427);function n(){let[e,t]=(0,l.useState)(!1),[a,n]=(0,l.useState)(null);return{isEarnTokensModalOpenClose:e,openCloseEarnTokensModal:(0,l.useCallback)(()=>t(e=>!e),[t]),earnTokensModalData:a,setEarnTokensModalData:n}}},529:function(e,t,a){"use strict";var l=a(77809);t.Z=(e,t)=>{var a;let{data:n,isLoading:s}=l.h.rewards.getEarnerAPRForStrategy.useQuery({earnerAddress:e,strategyAddresses:t},{enabled:!!e&&t.length>0,trpc:{context:{skipBatch:!0}}});return{earnerAPRs:null!==(a=null==n?void 0:n.rewards)&&void 0!==a?a:[],isEarnerAPRsLoading:s}}},4725:function(e,t,a){"use strict";a.d(t,{F:function(){return s}});var l=a(45632),n=a(25899);let s=e=>{let{targetBlock:t,startBlock:a,format:s,useBlockNumberParams:r}=e,i=(0,l.O)({query:{refetchInterval:6e4},...r}),d=i.data;return{...i,data:d&&t?(0,n.H)(null!=a?a:Number(d),t,s):null,currentBlock:d}}},92332:function(e,t,a){"use strict";var l=a(66427);let n=l.forwardRef(function(e,t){let{title:a,titleId:n,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),a?l.createElement("title",{id:n},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))});t.Z=n},29725:function(e,t,a){"use strict";var l=a(66427);let n=l.forwardRef(function(e,t){let{title:a,titleId:n,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),a?l.createElement("title",{id:n},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))});t.Z=n},86360:function(e,t,a){"use strict";var l=a(66427);let n=l.forwardRef(function(e,t){let{title:a,titleId:n,...s}=e;return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},s),a?l.createElement("title",{id:n},a):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))});t.Z=n},77398:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l.O}}),a(68101);var l=a(89251);a(97467),a(66427),a(4788),a(10717),a(83548),a(73080),a(39571)},75624:function(e,t,a){"use strict";a.d(t,{G:function(){return m}});var l=a(60739),n=a(10082),s=a(91590),r=a(45172),i=a(75945),d=a(94188),o=a(17364),c=a(66427),u=a(3102);function m(){var e,t,a;let m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{abi:x,address:h,connector:f,functionName:p,query:b={}}=m,g=(0,i.Z)(m),{data:w}=function(){var e,t,a;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{query:m={},...x}=l,h=(0,i.Z)(x),f=(0,d.NL)(),{address:p,connector:b,status:g}=(0,u.m)({config:h}),w=(0,r.x)({config:h}),j=null!==(e=l.connector)&&void 0!==e?e:b,{queryKey:v,...N}=function(e,t={}){return{gcTime:0,async queryFn({queryKey:a}){let{connector:l}=t,{connectorUid:n,scopeKey:s,...r}=a[1];return(0,o.e)(e,{...r,connector:l})},queryKey:function(e={}){let{connector:t,...a}=e;return["connectorClient",{...(0,n.OP)(a),connectorUid:t?.uid}]}(t)}}(h,{...l,chainId:null!==(t=l.chainId)&&void 0!==t?t:w,connector:j}),y=!!(("connected"===g||"reconnecting"===g&&(null==j?void 0:j.getProvider))&&(null===(a=m.enabled)||void 0===a||a)),T=(0,c.useRef)(p);return(0,c.useEffect)(()=>{let e=T.current;!p&&e?(f.removeQueries({queryKey:v}),T.current=void 0):p!==e&&(f.invalidateQueries({queryKey:v}),T.current=p)},[p,f]),(0,s.aM)({...m,...N,queryKey:v,enabled:y,staleTime:Number.POSITIVE_INFINITY})}({connector:f,query:{enabled:void 0===m.account}}),j=(0,r.x)({config:g}),v=function(e,t={}){return{async queryFn({queryKey:a}){let{abi:n,connector:s}=t;if(!n)throw Error("abi is required");let{scopeKey:r,...i}=a[1],{address:d,functionName:o}=i;if(!d)throw Error("address is required");if(!o)throw Error("functionName is required");return(0,l.a)(e,{abi:n,connector:s,...i})},queryKey:function(e={}){let{abi:t,connector:a,...l}=e;return["simulateContract",(0,n.OP)(l)]}(t)}}(g,{...m,account:null!==(e=m.account)&&void 0!==e?e:null==w?void 0:w.account,chainId:null!==(t=m.chainId)&&void 0!==t?t:j}),N=!!(x&&h&&p&&(null===(a=b.enabled)||void 0===a||a));return(0,s.aM)({...b,...v,enabled:N})}},19020:function(e,t,a){"use strict";a.d(t,{A:function(){return d}});var l=a(56359),n=a(10082),s=a(91590),r=a(45172),i=a(75945);function d(){var e,t;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hash:d,query:o={}}=a,c=(0,i.Z)(a),u=(0,r.x)({config:c}),m=function(e,t={}){return{async queryFn({queryKey:a}){let{hash:n,...s}=a[1];if(!n)throw Error("hash is required");return(0,l.e)(e,{...s,onReplaced:t.onReplaced,hash:n})},queryKey:function(e={}){let{onReplaced:t,...a}=e;return["waitForTransactionReceipt",(0,n.OP)(a)]}(t)}}(c,{...a,chainId:null!==(e=a.chainId)&&void 0!==e?e:u}),x=!!(d&&(null===(t=o.enabled)||void 0===t||t));return(0,s.aM)({...o,...m,enabled:x})}}},function(e){e.O(0,[9971,9091,421,340,4428,6299,7382,4710,4227,2110,1442,9144,4648,4465,8208,1322,4766,8140,5160,6528,3140,5906,4168,2271,1744],function(){return e(e.s=93615)}),_N_E=e.O()}]);
//# sourceMappingURL=page-8206ed7663918b6b.js.map